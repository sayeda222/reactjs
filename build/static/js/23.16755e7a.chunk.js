(this["webpackJsonpshop-react"]=this["webpackJsonpshop-react"]||[]).push([[23],{695:function(e,a,t){"use strict";t.r(a);var s=t(21),r=t(561),n=t(7),c=t.n(n),i=t(0),o=t(566),l=t.n(o),m=t(23),d=t(138),u=t(183),j=t(585),p=t(584),b=t(563),g=t(564),h=t(568),O=t(184),v=t(43),x=t(25),f=t(50),N=t(55),w=t(74),y=t(56),C=t(54),P=t(73),S=t(6),q={name:"username",validate:{required:{value:!0,message:"Email is required"},pattern:{value:/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i,message:"Please entered the valid email id"}}},I={name:"loginPassword",validate:{required:{value:!0,message:"Password is required"}}},T={email:{name:"email",validate:{required:{value:!0,message:"Email is required"},pattern:{value:/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i,message:"Please entered the valid email id"}}},password:{name:"password",validate:{required:{value:!0,message:"Password is required"},validate:{hasSpecialChar:function(e){return e&&e.match(/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,16}$/)||"Password must be minimum of 8 characters atleast one number and one special character"}}}},repeatPassword:{name:"repeatPassword",validate:{required:{value:!0,message:"Repeat Password is required"}}},firstName:{name:"firstName",validate:{required:{value:!0,message:"Firstname is required"}}},lastName:{name:"lastName",validate:{required:{value:!0,message:"Lastname is required"}}},country:{name:"country",validate:{required:{value:!0,message:"Country is required"}}},stateProvince:{name:"stateProvince",validate:{required:{value:!0,message:"State is required"}}}};a.default=Object(C.connect)((function(e){return{shipCountryData:e.userData.shipCountry,cartItems:e.cartData.cartItems,currentLocation:e.userData.currentAddress,stateData:e.userData.state,defaultStore:e.merchantData.defaultStore,merchant:e.merchantData.merchant}}),(function(e){return{addToCart:function(a,t,s,r,n,c,i){e(Object(y.f)(a,t,s.code,r,n,c,i))},setLoader:function(a){e(Object(N.b)(a))},setUser:function(a){e(Object(w.l)(a))},getCountry:function(){e(Object(w.g)())},getShippingCountry:function(a){e(Object(w.i)(a))},getState:function(a){e(Object(w.k)(a))},getCart:function(a,t){e(Object(y.i)(a,t))}}}))(Object(P.multilanguage)((function(e){var a=e.merchant,t=e.strings,n=(e.props,e.location),o=e.setLoader,N=e.setUser,w=e.getCart,y=e.getCountry,C=e.getShippingCountry,k=e.getState,R=e.shipCountryData,L=e.currentLocation,E=e.stateData,D=e.cartItems,A=e.addToCart,_=e.defaultStore,M=n.pathname,U=Object(O.useToasts)().addToast,K=Object(m.f)(),$=Object(i.useState)(!1),F=Object(r.a)($,2),J=F[0],V=F[1],B=Object(h.b)({mode:"onChange",defaultValues:{username:"",password:""},criteriaMode:"all"}),G=B.register,H=B.handleSubmit,Y=B.errors,z=B.setValue,Z=Object(h.b)({mode:"onChange",criteriaMode:"all"}),Q=Z.register,W=Z.errors,X=Z.handleSubmit,ee=Z.setValue,ae=Z.control,te=Z.watch,se=Z.setError,re=Z.clearErrors;Object(i.useEffect)((function(){"true"===Object(f.a)("isRemember")&&(V(!0),z("username",Object(f.a)("loginEmail"))),y(P.multilanguage.currentLanguageCode),C(P.multilanguage.currentLanguageCode),ne()}),[D]);var ne=function(){L.length>0&&(ee("country",L.find((function(e){return e.types.some((function(e){return"country"===e}))})).address_components[0].short_name),ee("stateProvince",L.find((function(e){return e.types.some((function(e){return"administrative_area_level_1"===e}))})).address_components[0].long_name))},ce=function(){var e=Object(s.a)(c.a.mark((function e(a){var t,s,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,t=x.a.ACTION.CUSTOMER+x.a.ACTION.LOGIN,s={username:a.username,password:a.loginPassword},e.next=6,v.a.post(t,s);case 6:(r=e.sent)&&(Object(f.c)(D)?ie(r):w("",r),"true"===Object(f.a)("isRemember")?Object(f.e)("loginEmail",a.username):Object(f.e)("loginEmail",""),U("You have successfully logged in to this website",{appearance:"success",autoDismiss:!0}),N(r),Object(f.e)("token",r.token),K.push("my-account")),o(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),U("Incorrect username or password",{appearance:"error",autoDismiss:!0}),o(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a){return e.apply(this,arguments)}}(),ie=function(){var e=Object(s.a)(c.a.mark((function e(a){var t,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=x.a.ACTION.AUTH+x.a.ACTION.CUSTOMER+x.a.ACTION.CARTS+"?&lang="+JSON.parse(Object(f.a)("redux_localstorage_simple")).multilanguage.currentLanguageCode,e.next=4,v.a.get(t);case 4:s=e.sent,console.log(s),s&&setTimeout((function(){console.log(s.code),D.products.forEach((function(e){console.log(s.code),A(e,"",s,e.quantity,_,a)}))}),2e3),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}(),oe=function(){var e=Object(s.a)(c.a.mark((function e(a){var t,s,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,t=x.a.ACTION.CUSTOMER+x.a.ACTION.REGISTER,s={userName:a.email,password:a.password,emailAddress:a.email,gender:"M",language:"en",billing:{country:a.country,stateProvince:a.stateProvince,firstName:a.firstName,lastName:a.lastName}},e.next=6,v.a.post(t,s);case 6:(r=e.sent)&&(U("'You have successfully registerd in to this website.",{appearance:"success",autoDismiss:!0}),N(r),Object(f.e)("token",r.token),K.push("my-account")),o(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),U("Registering customer already exist",{appearance:"error",autoDismiss:!0}),o(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a){return e.apply(this,arguments)}}();return Object(S.jsxs)(i.Fragment,{children:[Object(S.jsx)(l.a,{children:Object(S.jsxs)("title",{children:[a.name," | ",t.Login]})}),Object(S.jsx)(u.BreadcrumbsItem,{to:"/",children:t.Home}),Object(S.jsx)(u.BreadcrumbsItem,{to:""+M,children:t.Login}),Object(S.jsxs)(b.a,{headerContainerClass:"container-fluid",headerPaddingClass:"header-padding-2",headerTop:"visible",children:[Object(S.jsx)(g.a,{}),Object(S.jsx)("div",{className:"login-register-area pt-100 pb-100",children:Object(S.jsx)("div",{className:"container",children:Object(S.jsx)("div",{className:"row",children:Object(S.jsx)("div",{className:"col-lg-7 col-md-12 ml-auto mr-auto",children:Object(S.jsx)("div",{className:"login-register-wrapper",children:Object(S.jsxs)(j.a.Container,{defaultActiveKey:M.split("/")[1],children:[Object(S.jsxs)(p.a,{variant:"pills",className:"login-register-tab-list",children:[Object(S.jsx)(p.a.Item,{children:Object(S.jsx)(p.a.Link,{eventKey:"login",children:Object(S.jsxs)("h4",{children:[" ",t.Login]})})}),Object(S.jsx)(p.a.Item,{children:Object(S.jsx)(p.a.Link,{eventKey:"register",children:Object(S.jsxs)("h4",{children:[" ",t.Register]})})})]}),Object(S.jsxs)(j.a.Content,{children:[Object(S.jsx)(j.a.Pane,{eventKey:"login",children:Object(S.jsx)("div",{className:"login-form-container",children:Object(S.jsx)("div",{className:"login-register-form",children:Object(S.jsxs)("form",{onSubmit:H(ce),children:[Object(S.jsxs)("div",{className:"login-input",children:[Object(S.jsx)("input",{type:"text",name:q.name,placeholder:t["Email address"],ref:G(q.validate)}),Y[q.name]&&Object(S.jsx)("p",{className:"error-msg",children:Y[q.name].message})]}),Object(S.jsxs)("div",{className:"login-input",children:[Object(S.jsx)("input",{type:"text",className:"user-password",name:I.name,placeholder:t.Password,ref:G(I.validate)}),Y[I.name]&&Object(S.jsx)("p",{className:"error-msg",children:Y[I.name].message})]}),Object(S.jsxs)("div",{className:"button-box",children:[Object(S.jsxs)("div",{className:"login-toggle-btn",children:[Object(S.jsx)("input",{type:"checkbox",checked:J,onChange:function(e){V(!J),e.target.checked?Object(f.e)("isRemember",!0):Object(f.e)("isRemember",!1)}}),Object(S.jsx)("label",{className:"ml-10",children:t["Remember me"]}),Object(S.jsx)(d.b,{to:"/forgot-password",children:t["Forgot Password?"]})]}),Object(S.jsx)("button",{type:"submit",children:Object(S.jsx)("span",{children:t.Login})})]})]})})})}),Object(S.jsx)(j.a.Pane,{eventKey:"register",children:Object(S.jsx)("div",{className:"login-form-container",children:Object(S.jsx)("div",{className:"login-register-form",children:Object(S.jsxs)("form",{onSubmit:X(oe),children:[Object(S.jsx)("p",{className:"login-info",children:t["Login Information"]}),Object(S.jsxs)("div",{className:"login-input",children:[Object(S.jsx)("input",{type:"email",autoComplete:"Email",name:T.email.name,ref:Q(T.email.validate),placeholder:t.Username}),W[T.email.name]&&Object(S.jsx)("p",{className:"error-msg",children:W[T.email.name].message})]}),Object(S.jsxs)("div",{className:"login-input",children:[Object(S.jsx)("input",{type:"password",autoComplete:"new-password",name:T.password.name,ref:Q(T.password.validate),placeholder:t.Password,onChange:function(e){return function(e){if(""!==te("repeatPassword")&&te("repeatPassword")!==e.target.value)return se(T.repeatPassword.name,{type:"notMatch",message:"Repeat Password should be the same as a password"});re(T.repeatPassword.name)}(e)}}),W[T.password.name]&&Object(S.jsx)("p",{className:"error-msg",children:W[T.password.name].message})]}),Object(S.jsxs)("div",{className:"login-input",children:[Object(S.jsx)("input",{type:"password",name:T.repeatPassword.name,ref:Q(T.repeatPassword.validate),placeholder:t["Repeat Password"],onChange:function(e){return function(e){if(te("password")!==e.target.value)return se(T.repeatPassword.name,{type:"notMatch",message:"Repeat Password should be the same as a password"})}(e)}}),W[T.repeatPassword.name]&&Object(S.jsx)("p",{className:"error-msg",children:W[T.repeatPassword.name].message})]}),Object(S.jsx)("p",{className:"login-info",children:t["Personal Information"]}),Object(S.jsxs)("div",{className:"login-input",children:[Object(S.jsx)("input",{type:"text",name:T.firstName.name,ref:Q(T.firstName.validate),placeholder:t["First Name"]}),W[T.firstName.name]&&Object(S.jsx)("p",{className:"error-msg",children:W[T.firstName.name].message})]}),Object(S.jsxs)("div",{className:"login-input",children:[Object(S.jsx)("input",{type:"text",name:T.lastName.name,ref:Q(T.lastName.validate),placeholder:t["Last Name"]}),W[T.lastName.name]&&Object(S.jsx)("p",{className:"error-msg",children:W[T.lastName.name].message})]}),Object(S.jsxs)("div",{className:"login-input",children:[Object(S.jsx)(h.a,{name:T.country.name,control:ae,rules:T.country.validate,render:function(e){return Object(S.jsxs)("select",{onChange:function(a){e.onChange(a.target.value),k(a.target.value)},value:e.value,children:[Object(S.jsx)("option",{children:t["Select a country"]}),R.map((function(e,a){return Object(S.jsx)("option",{value:e.code,children:e.name},a)}))]})}}),W[T.country.name]&&Object(S.jsx)("p",{className:"error-msg",children:W[T.country.name].message})]}),Object(S.jsxs)("div",{className:"login-input",children:[E&&E.length>0?Object(S.jsx)(h.a,{name:T.stateProvince.name,control:ae,rules:T.stateProvince.validate,render:function(e){return Object(S.jsxs)("select",{onChange:function(a){e.onChange(a.target.value)},value:e.value,children:[Object(S.jsx)("option",{children:t["Select a state"]}),E.map((function(e,a){return Object(S.jsx)("option",{value:e.code,children:e.name},a)}))]})}}):Object(S.jsx)("input",{type:"text",name:T.stateProvince.name,ref:Q(T.stateProvince.validate),placeholder:t.State}),W[T.stateProvince.name]&&Object(S.jsx)("p",{className:"error-msg",children:W[T.stateProvince.name].message})]}),Object(S.jsx)("div",{className:"button-box",children:Object(S.jsx)("button",{type:"submit",children:Object(S.jsx)("span",{children:t.Register})})})]})})})})]})]})})})})})})]})]})})))}}]);
//# sourceMappingURL=23.16755e7a.chunk.js.map