(this["webpackJsonpshop-react"]=this["webpackJsonpshop-react"]||[]).push([[27],{697:function(e,a,s){"use strict";s.r(a);var t=s(21),r=s(561),n=s(7),c=s.n(n),o=s(0),i=s(566),d=s.n(i),l=s(23),j=s(138),u=s(183),h=s(585),m=s(584),p=s(563),b=s(564),O=s(568),x=s(184),g=s(43),w=s(25),v=s(55),f=s(54),N=s(73),P=s(6),C={name:"password",validate:{required:{value:!0,message:"Password is required"},validate:{hasSpecialChar:function(e){return e&&e.match(/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,16}$/)||"Password must be minimum of 8 characters atleast one number and one special character"}}}},y={name:"repeatPassword",validate:{required:{value:!0,message:"Repeat Password is required"}}};a.default=Object(f.connect)((function(e,a){return{defaultStore:e.merchantData.defaultStore,storeCode:a.match.params.code,resetID:a.match.params.id,merchant:e.merchantData.merchant}}),(function(e){return{setLoader:function(a){e(Object(v.b)(a))}}}))(Object(N.multilanguage)((function(e){var a=e.merchant,s=e.strings,n=(e.props,e.location,e.setLoader),i=(e.defaultStore,e.storeCode),v=e.resetID,f=Object(x.useToasts)().addToast,N=Object(l.f)(),R=Object(o.useState)(!0),S=Object(r.a)(R,2),T=S[0],I=S[1],k=Object(O.b)({mode:"onChange",defaultValues:{password:"",repeatPassword:""},criteriaMode:"all"}),A=k.register,D=k.handleSubmit,E=k.errors,M=k.watch,q=k.setError,L=k.clearErrors,B=k.reset;Object(o.useEffect)((function(){K()}),[]);var K=function(){var e=Object(t.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,a=w.a.ACTION.CUSTOMER+i+"/"+w.a.ACTION.RESET+v,e.next=5,g.a.get(a);case 5:I(!0),n(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),I(!1),n(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(t.a)(c.a.mark((function e(a){var s,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,s=w.a.ACTION.CUSTOMER+i+"/"+w.a.ACTION.PASSWORD+v,t={password:a.password,repeatPassword:a.repeatPassword},e.next=6,g.a.post(s,t);case 6:B({}),N.push("/login"),f("You have successfully reset your password. you can now login as usual with your email address and your new password.",{appearance:"success",autoDismiss:!0}),n(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),f("Password don't match",{appearance:"error",autoDismiss:!0}),n(!1);case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(a){return e.apply(this,arguments)}}();return Object(P.jsxs)(o.Fragment,{children:[Object(P.jsx)(d.a,{children:Object(P.jsxs)("title",{children:[a.name," | ",s["Reset Password"]]})}),Object(P.jsx)(u.BreadcrumbsItem,{to:"/",children:s.Home}),Object(P.jsx)(u.BreadcrumbsItem,{to:"/login",children:s["Reset Password"]}),Object(P.jsxs)(p.a,{headerContainerClass:"container-fluid",headerPaddingClass:"header-padding-2",headerTop:"visible",children:[Object(P.jsx)(b.a,{}),T&&Object(P.jsx)("div",{className:"login-register-area pt-100 pb-100",children:Object(P.jsx)("div",{className:"container",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("div",{className:"col-lg-7 col-md-12 ml-auto mr-auto",children:Object(P.jsx)("div",{className:"login-register-wrapper",children:Object(P.jsxs)(h.a.Container,{defaultActiveKey:"forgot-password",children:[Object(P.jsx)(m.a,{variant:"pills",className:"login-register-tab-list",children:Object(P.jsx)(m.a.Item,{children:Object(P.jsx)(m.a.Link,{eventKey:"forgot-password",children:Object(P.jsx)("h4",{children:s["Reset Password"]})})})}),Object(P.jsx)(h.a.Content,{children:Object(P.jsx)(h.a.Pane,{eventKey:"forgot-password",children:Object(P.jsx)("div",{className:"login-form-container",children:Object(P.jsx)("div",{className:"login-register-form",children:Object(P.jsxs)("form",{onSubmit:D(U),children:[Object(P.jsx)("p",{children:s["Reset Password Note"]}),Object(P.jsxs)("div",{className:"login-input",children:[Object(P.jsx)("input",{type:"password",name:C.name,ref:A(C.validate),placeholder:s.Password,onChange:function(e){return function(e){if(""!==M("repeatPassword")&&M("repeatPassword")!==e.target.value)return q(y.name,{type:"notMatch",message:"Repeat Password should be the same as a password"});L(y.name)}(e)}}),E[C.name]&&Object(P.jsx)("p",{className:"error-msg",children:E[C.name].message})]}),Object(P.jsxs)("div",{className:"login-input",children:[Object(P.jsx)("input",{type:"password",name:y.name,ref:A(y.validate),placeholder:s["Repeat Password"],onChange:function(e){return function(e){if(M("password")!==e.target.value)return q(y.name,{type:"notMatch",message:"Repeat Password should be the same as a password"})}(e)}}),E[y.name]&&Object(P.jsx)("p",{className:"error-msg",children:E[y.name].message})]}),Object(P.jsxs)("div",{className:"button-box",children:[Object(P.jsx)("div",{className:"login-toggle-btn",children:Object(P.jsx)("label",{className:"ml-30"})}),Object(P.jsx)("button",{type:"submit",children:Object(P.jsx)("span",{children:s["Update Password"]})})]})]})})})})})]})})})})})}),!T&&Object(P.jsx)("div",{className:"error-area pt-40 pb-100",children:Object(P.jsx)("div",{className:"container",children:Object(P.jsx)("div",{className:"row justify-content-center",children:Object(P.jsx)("div",{className:"col-xl-7 col-lg-8 text-center",children:Object(P.jsxs)("div",{className:"error",children:[Object(P.jsx)("h1",{children:"400"}),Object(P.jsx)("h2",{children:s["Link Invalid"]}),Object(P.jsx)("p",{children:s["To Your Reset Password"]}),Object(P.jsx)(j.b,{to:"/login",className:"error-btn",children:s["Back to login page"]})]})})})})})]})]})})))}}]);
//# sourceMappingURL=27.4f9c0a2f.chunk.js.map